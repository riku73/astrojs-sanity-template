---
interface Props {
  data?: any;
}

const { data } = Astro.props;

const defaultColumns = [
  {
    heading: 'Product',
    links: [
      { label: 'Overview', href: '#' },
      { label: 'Features', href: '#features' },
      { label: 'Integrations', href: '#' },
      { label: 'Pricing', href: '#pricing' },
    ],
  },
  {
    heading: 'Company',
    links: [
      { label: 'About', href: '#' },
      { label: 'Philosophy', href: '#' },
      { label: 'Careers', href: '#' },
      { label: 'Press', href: '#' },
    ],
  },
  {
    heading: 'Resources',
    links: [
      { label: 'Journal', href: '#' },
      { label: 'Help center', href: '#' },
      { label: 'Guides', href: '#' },
      { label: 'Contact', href: '#' },
    ],
  },
];

const socialIcons: Record<string, string> = {
  instagram: 'M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 01-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 017.8 2zm-.2 2A3.6 3.6 0 004 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 003.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6zm9.65 1.5a1.25 1.25 0 110 2.5 1.25 1.25 0 010-2.5zM12 7a5 5 0 110 10 5 5 0 010-10zm0 2a3 3 0 100 6 3 3 0 000-6z',
  youtube: 'M23 9.71a8.5 8.5 0 00-.91-4.13 2.92 2.92 0 00-1.72-1A78.4 78.4 0 0012 4.27a78.5 78.5 0 00-8.34.3 2.87 2.87 0 00-1.46.74c-.9.83-1 2.25-1.1 3.45a48.3 48.3 0 000 6.48 9.4 9.4 0 00.3 2 3.14 3.14 0 00.71 1.36 2.86 2.86 0 001.49.78 45.2 45.2 0 006.5.33c3.5.05 6.57 0 10.2-.46a2.9 2.9 0 001.53-.78 2.49 2.49 0 00.61-1 10.6 10.6 0 00.48-3.42 54 54 0 00-.02-4.14zM9.74 14.85V8.66l5.92 3.11c-1.66.88-3.97 1.98-5.92 3.08z',
  linkedin: 'M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2zM4 2a2 2 0 110 4 2 2 0 010-4z',
  x: 'M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z',
};

const defaultSocials = [
  { platform: 'instagram', url: '#' },
  { platform: 'youtube', url: '#' },
  { platform: 'linkedin', url: '#' },
  { platform: 'x', url: '#' },
];

const defaultLegalLinks = [
  { label: 'Privacy policy', href: '#' },
  { label: 'Term of service', href: '#' },
];

const footerDescription = data?.footerDescription ?? 'A modern platform designed to help you work smarter.';
const columns = data?.footerColumns ?? defaultColumns;
const socials = data?.footerSocialLinks ?? defaultSocials;
const copyright = data?.footerCopyright ?? '\u00a92026 Company. All rights reserved.';
const legalLinks = data?.footerLegalLinks ?? defaultLegalLinks;
---

<footer class="bg-navy-950">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
    <div class="grid grid-cols-2 lg:grid-cols-5 gap-8 lg:gap-12">
      <!-- Logo & description -->
      <div class="col-span-2">
        <a href="/" class="flex items-center gap-2 mb-4">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="text-white">
            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="text-lg font-normal text-white">Company</span>
        </a>
        <p class="text-sm text-neutral-400 leading-relaxed max-w-xs mb-6">
          {footerDescription}
        </p>

        <!-- Email input -->
        <div class="relative max-w-xs mb-6">
          <input
            type="email"
            placeholder="Your email"
            class="w-full bg-transparent border border-white/[0.08] rounded-lg px-4 py-2.5 text-sm text-white placeholder:text-neutral-400 focus:outline-none focus:border-white/20"
          />
          <button class="absolute right-2 top-1/2 -translate-y-1/2 w-7 h-7 flex items-center justify-center bg-white rounded-md text-navy-950 hover:bg-neutral-200 transition-colors">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M7 17L17 7M17 7H7M17 7v10" />
            </svg>
          </button>
        </div>

        <!-- Social icons -->
        <div class="flex items-center gap-4">
          {socials.map((social: any) => (
            <a href={social.url ?? social.href ?? '#'} class="text-neutral-400 hover:text-white transition-colors" aria-label={social.platform ?? social.label}>
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                <path d={socialIcons[social.platform] ?? social.icon ?? ''} />
              </svg>
            </a>
          ))}
        </div>
      </div>

      <!-- Link columns -->
      {columns.map((column: any) => (
        <div>
          <h4 class="text-sm font-normal text-white mb-4">{column.heading}</h4>
          <ul class="space-y-3">
            {column.links.map((link: any) => (
              <li>
                <a href={link.href} class="text-sm text-neutral-400 hover:text-neutral-300 transition-colors">
                  {link.label}
                </a>
              </li>
            ))}
          </ul>
        </div>
      ))}
    </div>

    <!-- Bottom bar -->
    <div class="mt-16 flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-8">
      <p class="text-xs text-neutral-400">
        {copyright}
      </p>
      <div class="flex items-center gap-6">
        {legalLinks.map((link: any) => (
          <a href={link.href} class="text-xs text-neutral-400 hover:text-white transition-colors">{link.label}</a>
        ))}
      </div>
    </div>
  </div>
</footer>
